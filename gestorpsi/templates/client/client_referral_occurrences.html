{% extends "core/main.html" %}

{% comment %}

Copyright (C) 2008 GestorPsi

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

{% endcomment %}

{% load i18n %}


{% block menu_client %}active{% endblock %}

{% block submenu %}
    {% include "client/client_menu.html" %}
{% endblock %}

{% block core %}

<div class="registers_available">
    <h2 class="title_schedule title">{% ifequal type 'past' %}{% trans "Past occurrences for this referral" %}{% else %}{% trans "Upcoming occurrences for this referral" %}{% endifequal %}</h2>
    <p class="description"><a href="/careprofessional/{{ event.professional.all.0.id }}/">{{ referral.professional.all|join:", " }}</a></p>

    <div class="main_area contact">

    {% if not occurrences %}
        <div id="msg_area" class="alert no_registers_available">
            {% trans "There is no registers available." %}<br />
        </div>
    {% else %}
        <table id="search_results" class="zebra newtab" border="0" cellspacing="0" cellpadding="0">
        <thead> 
                <tr> 
                <th></th> 
                <th></th>
                <th></th>
                </tr> 
        </thead>
        <tbody>
            {% for o in occurrences %}
                <tr class="zebra_{% cycle 0 1 %}">
                <td>{% ifequal type 'past' %}<a href="/client/{{ object.id }}/occurence/{{ o.id}}/">{% endifequal %}{{ o.start_time|date:"l, d" }} {% trans "of" %} {{ o.start_time|date:"F" }} {% trans "of" %} {{ o.start_time|date:"Y" }}{% ifequal type 'past' %}</a>{% endifequal %}</td>
                <td>{{ o.start_time|date:"H:i" }} - {{ o.end_time|date:"H:i" }} hs<br />{{ o.scheduleoccurrence.room }}</td>
                <td></td>
                </tr>
            {% endfor %}
        </tbody>
        </table>
    {% endif %}
    <br />    
</div>
</div>

<div id="sidebar" class="sidebar">
    {% if object.id %}
        {% include "tags/client_sidebar.html" %}
    {% endif %}
</div>

{% endblock %}
